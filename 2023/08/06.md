## 取り組んだ課題一覧
- Node.js I
- Node.js II
- Node.js III
## わかったこと
- Node.jsはJavaScriptをサーバーサイドで動かすための仕組み
- ExpressはNode.jsでWebアプリ開発をするためのフレームワーク
- Node.jsには便利な機能を簡単に使えるようにまとめたパッケージというものがあり、Expressもそのひとつ
- npm (Node Package Manager)というシステムでパッケージを用意する
- npmはパッケージを共有・取得する機能
- ターミナルでnpm installコマンドでパッケージをインストールする
- インストールしたパッケージを読み込み使用するための準備が必要
- const express = require("express"); const app = express();
- Expressでサーバーを起動し、サーバーがリクエストを受け取りレスポンスを返すようにする
- listenメソッドを用意し、app.jsを実行するとサーバーが起動する
- ファイルの実行はターミナルでnode ファイル名
- ブラウザからのリクエストに応じてHTMLを返す処理を行う
- URLに対応する処理を実行することをルーティングという
- ルーティングの処理では、req(リクエストの略)・res(レスポンスの略)の２つの引数を受け取る、それぞれリクエストとレスポンスの情報が入る
- ブラウザに表示する見た目部分にはEJSという形式のファイルを使い、viewsフォルダに配置する、この見た目を作るファイルをビューファイルという
- ルーティングの処理で res.render("ファイル名") と書いて指定したビューを表示する
- CSSや画像を適用するには、これらを置くフォルダを作り、そのフォルダを指定してファイルを読み込む
- app.use(express.static("フォルダ名")); 一般的にpublicを使用する
- EJSファイルには指定したフォルダを起点にしたパスを/css/style.cssのように指定してCSSを読み込む
- EJSはパッケージで、HTMLにJavaScriptを埋め込むことができる
- EJS上でJavaScriptを埋め込むには < % % >,< %= % > で囲む
- forEachメソッドなど表示しない部分は< % %> で表記
- 「/」のURLはルートURLといい、一番最初にアクセスするページはルートURLに設定する
- Node.jsとMySQLを接続するには、mysqlパッケージをインストールし、読み込み接続する
- クエリを実行して、データを取得する
- connection.query("クエリ", クエリ実行後の処理)でデータベースに対してクエリを実行する
- クエリ実行後の処理は2つの引数error,resultsをとることができる、それぞれエラー情報とクエリの実行結果が入る
- EJSはrenderメソッドから値を受け取ることができる、renderメソッドの第2引数に{プロパティ : 値}と書くことで、EJS側に値を渡す
- データベースを変更するときのルーティングはapp.getではなくapp.post
- フォームを作るときはHTMLの<　form>タグを用い、 action属性には送信先のURL、method属性には「post」か「get」をルーティングに合わせて指定
- フォームの値を受け取るために必要な定型文がある
- input要素にname属性を指定すると、オブジェクトの形で情報がサーバーに送信され、req.body.name属性の値でフォームの値を取得できる
- フォームからの値をクエリに使いたいときは、VALUESに「?」を含め、「connection.query()」の第２引数に渡したい配列を指定する
- リロードは直前のリクエストを実行する機能
- サーバーは次に自動でリクエストするURLを指定することができる、別のURLに再度リクエストさせる仕組みをリダイレクトという
- リダイレクトするにはres.redirectメソッドを用い、引数にURLを指定
- postメソッドでリクエストした時は、getのルーティングにリダイレクトする
- URLにidを含める、/xxx/:idのように指定する
- /:idの部分はルートパラメーターと呼ぶ
- req.params.ルートパラメータ名でルートパラメータの値を受け取る
- ルートパラメータの値はparamsオブジェクトで、フォームの値はbodyオブジェクトで受け取る
- クエリに複数の値を入れる時は配列の要素を増やす、配列の要素の順番通りに？に入れる
## 次やること
- Node.js IV
## 感じたこと
- ()と{}の使い分けが、仕様機会も多いので難しく感じる
- 変数、定数の宣言時に型宣言しないのは楽だがいまだに違和感がある
## 学習時間
- Today:4h Total:56.5h
